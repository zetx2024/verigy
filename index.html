<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Verify Identity & Certificate | Youth Research Journal</title>
     <link rel="icon" href="https://yrjournal.org/images/Logo.png"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.4.0"></script>
    <script src="https://unpkg.com/downloadjs@1.4.7"></script>
    <script src="https://unpkg.com/@pdf-lib/fontkit@0.0.4"></script>

    <link rel="icon" href="https://yrjournal.org/fevicon/favicon.ico"/>
<link rel="apple-touch-icon" sizes="180x180" href="https://yrjournal.org/fevicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="192x192" href="https://yrjournal.org/fevicon/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="https://yrjournal.org/fevicon/favicon-512x512.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://yrjournal.org/fevicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://yrjournal.org/fevicon/favicon-16x16.png">
<link rel="manifest" href="https://yrjournal.org/manifest.json">
<meta name="google-site-verification" content="JiinHJ-3uK8QJcf6TqBTjEtOGRsXPH3AE28qh5kKzys" />
<meta name="theme-color" content="#089608">
<meta name="keywords" content="Bangladesh, WRP,YRJ, yrj, Youth Research Journal, Education, Lumiere Education, Research Program, Summer Activities, Winter Research, Winter Program, Winter Activities, undergraduate, research, journal, electronic, online, multidisciplinary, open access, articles, essays, Houston, Texas, Journal of Student Research, jofsr, Jofsr, JofSR, student research journal, undergraduate rsesearch journal, student research, high school, hs, high school publication, high school research, school research, high school edition, hs edition, hs portal, high school portal, high school edition research, machine learning, computational biology, machine, computational, biology."/>
<meta name="description" content="An initiative by Youth Research Journal is the first Journal published by high school students, for high school students."/>
<meta name="subject" content="Verify Identity & Certificate | YRJ">
<meta name="copyright"content="Md Sanaul Haque Shanto">
<meta name="language" content="ES">
<meta name="robots" content="index,follow" />
<meta name="revised" content="2023-09-27T08:13:15.028Z" />
<meta name="abstract" content="Verify Identity & Certificate | YRJ">
<meta name="topic" content="Verify Identity & Certificate | YRJ">
<meta name="summary" content="Verify Identity & Certificate | YRJ">
<meta name="Classification" content="Educational">
<meta name="author" content="Md Sanaul Haque Shanto, info@yrjournal.org">
<meta name="designer" content="Md Sanaul Haque Shanto">
<meta name="copyright" content="Md Sanaul Haque Shanto">
<meta name="reply-to" content="info@yrjournal.org">
<meta name="owner" content="Md Sanaul Haque Shanto">
<meta name="url" content="https://bd.yrjournal.org/">
<meta name="identifier-URL" content="https://bd.yrjournal.org/">
<meta name="directory" content="submission">
<meta name="category" content="Educational">
<meta name="coverage" content="Worldwide">
<meta name="distribution" content="Global">
<meta name="rating" content="General">
<meta name="og:title" content="Verify Identity & Certificate | Youth Research Journal"/>
<meta name="og:type" content="Educational"/>
<meta name="og:url" content="https://bd.yrjournal.org/"/>
<meta name="og:image" content="https://yrjournal.org/fevicon/favicon.ico">
<meta name="og:site_name" content="Verify Identity & Certificate | YRJ"/>
<meta name="og:description" content="An initiative by Youth Research Journal is the first Journal published by high school students, for high school students."/>
<meta name="fb:page_id" content="115167513660646" />
<meta name="og:email" content="info@yrjournal.org"/>
<meta name="og:phone_number" content="+8801766009306"/>
<meta name="og:fax_number" content="+8801766009306"/>
<meta name="og:latitude" content=""/>
<meta name="og:longitude" content=""/>
<meta name="og:street-address" content="Dhaka"/>
<meta name="og:locality" content="Dhaka"/>
<meta name="og:region" content="DHAKA"/>
<meta name="og:postal-code" content="1000"/>
<meta name="og:country-name" content="Bangladesh"/>


    <!-- Markup (JSON-LD) structured in schema.org ver.4.7.0 START -->
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "Youth Research Journal",
        "url": "https://yrjournal.org",
        "logo": "fevicon/favicon.ico",
        "sameAs": [
                    "https://www.facebook.com/yrjournal"
                    ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Journal",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://yrjournal.org/"
            },
        "headline": "Youth Research Journal",
        "datePublished": "2023-09-27T16:15:48+0100",
        "dateModified": "2023-09-27T11:18:24+0100",
        "author": {
                "@type": "Person",
                "name": "Youth Research Journal"
                },
        "description": "\tAn initiative by Youth Research Journal is the first Journal published by high school students, for high school students.",
        "image": {
                "@type": "ImageObject",
                "url": "fevicon/logo.png",
                "width": 1200,
                "height": 800
                },
        "publisher": {
        "@type": "Organization",
        "name": "Youth Research Journal",
        "logo": {
        "@type": "ImageObject",
        "url": "fevicon/logo.png",
        "width": 600,
        "height": 60
                }
            }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "Youth Research Journal",
        "url": "https://yrjournal.org",
        "logo": "fevicon/logo.png",
        "sameAs": [
        "https://www.facebook.com/yrjournal"
        ]
    }
    </script>
    <!-- Markup (JSON-LD) structured in schema.org END -->
    <script>
    jQuery(document).ready(function(){
    var copyright_text = "Youth Research Journal";
    var cyberchimps_link = "";
    var siteurl = "https://yrjournal.org";
    if(copyright_text == ""){
        jQuery(".copyright #copyright_link").text(" "+"Default copyright text");
            }
    else{
            jQuery(".copyright #copyright_link").text(" "+copyright_text);
        }
        jQuery(".copyright #copyright_link").attr('href',siteurl);
    if(cyberchimps_link == 1){
            jQuery(".powered").css("display","block");
        }
    else{
            jQuery(".powered").css("display","none");
        }
    });
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6P4BYKQ77T"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6P4BYKQ77T');
    </script>


  <style>
    #result {
      position: absolute;
      width: 100%;
      max-width: 870px;
      cursor: pointer;
      overflow-y: auto;
      max-height: 400px;
      box-sizing: border-box;
      z-index: 1001;
    }

    .link-class:hover {
      background-color: #f1f1f1;
    }
  </style>
</head>

<body>

     <!-- Messenger Chat Plugin Code -->
    <div id="fb-root"></div>

    <!-- Your Chat Plugin code -->
    <div id="fb-customer-chat" class="fb-customerchat">
    </div>

    <script>
      var chatbox = document.getElementById('fb-customer-chat');
      chatbox.setAttribute("page_id", "115167513660646");
      chatbox.setAttribute("attribution", "biz_inbox");
    </script>

    <!-- Your SDK code -->
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          xfbml            : true,
          version          : 'v18.0'
        });
      };

      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>
  <br /><br />
  <div class="container" style="width:900px;">
    <h2 align="center">Verify Identity & Certificate</h2>
    <h3 align="center">Youth Research Journal</h3>
    <center><button><a href="https://yrjournal.org">Home</a></button></center>
    <p align="center">Allow pop-up for this site to download Certificate.</p>
    <br /><br />
    <div align="center">
      <input type="text" name="search" id="search" placeholder="Search Student Details: Name, Verification Code" class="form-control" />
    </div>
    <ul class="list-group" id="result"></ul>
    <br />
    <br />
    <br />
    <p align="center">Developed by <a href="https://md-sanaul-haque-shanto.github.io">Md Sanaul Haque Shanto</a> .</p>
    <p align="center" style="font-size: 10px;">Any Error, Suggestions, Design, Making, Develop for your company mail me at shanto@eptonline.org</p>
  </div>



  <script>
    $(document).ready(function () {
      $.ajaxSetup({ cache: false });
      $('#search').keyup(function () {
        $('#result').html('');
        var searchField = $('#search').val();
        var expression = new RegExp(searchField, "i");
        $.getJSON('datap.json', function (data) {
          $.each(data, function (key, value) {
            if (value.name.search(expression) != -1 || value.id.search(expression) != -1) {
              $('#result').append(`
                <li class="list-group-item link-class">
                  <img src="${value.image}" height="40" width="40" class="img-thumbnail" /> ${value.name} | 
                  <span class="text-muted">${value.location}</span> | <span class="text-muted">${value.program}</span>
                  <button onclick="generateCertificate('${value.id}', '${value.name}', '${value.program}', '${value.date}', '${value.date}')">Generate Certificate</button>
                </li>
              `);
            }
          });
        });
      });

      $('#result').on('click', 'li', function () {
        var click_text = $(this).text().split('|');
        $('#search').val($.trim(click_text[0]));
        $("#result").html('');
      });
    });


  const { degrees, PDFDocument, rgb, StandardFonts } = PDFLib;


    async function generateCertificate(studentId, studentName, program, date, to) {
      // Fetch student details based on the ID
      const studentDetails = await fetchStudentDetails(studentId);

      if (!studentDetails) {
        alert('Student not found');
        return;
      }

      // Fetch an existing PDF document
      const url = 'yrjcertp.pdf';
        const existingPdfBytes = await fetch(url).then(res => res.arrayBuffer());

      // Load a PDFDocument from the existing PDF bytes
      const pdfDoc = await PDFDocument.load(existingPdfBytes);

      pdfDoc.registerFontkit(fontkit);

      //get font
      const fontBytes = await fetch("GreatVibes-Regular.ttf").then((res) =>
        res.arrayBuffer()
      );

      // Embed our custom font in the document
      const GreatVibes = await pdfDoc.embedFont(fontBytes);


      // Embed the Helvetica font
      //const helveticaFont = await pdfDoc.embedFont(StandardFonts.Helvetica);

      // Get the first page of the document
      const pages = pdfDoc.getPages();
      const firstPage = pages[0];

      // Get the width and height of the first page
      const { width, height } = firstPage.getSize();


      const fsN = 35;
      const fsP = 15;
      const fsR = 12;
      const fsD = 14;
      const fsId = 10;

 
     
      firstPage.drawText(`${program}`, { x:342, y:275, size: fsP,fontSize: 14 });
      //firstPage.drawText(`"${research}"`, { x:182, y:254, size: fsR,fontSize: 14 });
      firstPage.drawText(`${date}`, { x:250, y:232, size: fsD,fontSize: 14 });
      firstPage.drawText(`${to}`, { x:490, y:232, size: fsD,fontSize: 14 });
      firstPage.drawText(`${studentId}`, { x:590, y:95, size: fsId,fontSize: 14 });




    const textWidth = GreatVibes.widthOfTextAtSize(`${studentName}`, fsN);
    const textHeight = GreatVibes.heightAtSize(fsN);

    firstPage.drawText(`${studentName}`, {
      x: firstPage.getWidth() / 2 - textWidth / 2,
      y: firstPage.getHeight() / 1.7 - textHeight / 2,
      size: fsN,
      font: GreatVibes,
    });






      // Set all available metadata fields on the PDFDocument. Note that these fields
        // are visible in the "Document Properties" section of most PDF readers.
        pdfDoc.setTitle(`Certificate | ${studentName} | ${program}`);
        pdfDoc.setAuthor('Md Sanaul Haque Shanto');
        pdfDoc.setSubject(`YRJ Participation Certificate`);
        pdfDoc.setKeywords(['YRJ', 'winter', 'spring', 'summer', 'research', 'school', 'program']);
        pdfDoc.setProducer('Md Sanaul Haque Shanto');
        pdfDoc.setCreator('Youth Research Journal (https://verify.yrjournal.org)');
        pdfDoc.setCreationDate(new Date());
        pdfDoc.setModificationDate(new Date());
      

      // Save the PDF to a file
      const pdfBytes = await pdfDoc.save();
      downloadPDF(pdfBytes, `${studentName}_${studentId}${program}_YRJ_Certificate.pdf`);
    }

    async function fetchStudentDetails(studentId) {
      try {
        // Read the local JSON file
        const response = await fetch('datap.json');
        const data = await response.json();

        // Find the student with the given ID
        const student = data.find(s => s.id === studentId);

        if (!student) {
          console.error(`Student with ID ${studentId} not found`);
          return null;
        }

        return student;
      } catch (error) {
        console.error('Error fetching student details:', error);
        return null;
      }
    };

    function downloadPDF(pdfBytes, filename) {
      const blob = new Blob([pdfBytes], { type: 'application/pdf' });
      const link = document.createElement('a');
      link.href = window.URL.createObjectURL(blob);
      link.download = filename;
      link.click();
    };
  </script>
</body>

</html>
